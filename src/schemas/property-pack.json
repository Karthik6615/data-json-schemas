{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://homebuyingandsellinggroup.co.uk/schemas/property-pack.json",
  "type": "object",
  "title": "Property Data Trust Framework Schema",
  "description": "A schema defining the PDTF data structure, supporting mapping to BASPI, Law Society and RICS Data Schema elements.",
  "required": ["$schema", "uprn", "propertyPack"],
  "properties": {
    "$schema": {
      "title": "The version reference ($id) of the PDTF Schema used",
      "type": "string"
    },
    "uprn": {
      "RDSRef": "Property/GUID/{name='UPRN',id=?}",
      "title": "Unique Property Reference Number ",
      "type": "integer"
    },
    "propertyPack": {
      "title": "Property Pack",
      "type": "object",
      "properties": {
        "materialFacts": {
          "$ref": "https://homebuyingandsellinggroup.co.uk/schemas/baspi-a-material-facts.json"
        },
        "additionalLegalInfo": {
          "$ref": "https://homebuyingandsellinggroup.co.uk/schemas/baspi-b-legal-information.json"
        },
        "titlesToBeSold": {
          "RDSRef": "",
          "title": "Title(s) as registered with HMLR which are included in the sale",
          "type": "array",
          "items": {
            "type": "object",
            "title": "Registered Title",
            "properties": {
              "titleNumber": {
                "RDSRef": "",
                "title": "Title Number",
                "type": "string"
              },
              "classTitleCode": {
                "RDSRef": "",
                "title": "Class of Title",
                "type": "string",
                "enum": [
                  "AF",
                  "QF",
                  "PF",
                  "AL",
                  "GL",
                  "QL",
                  "PL",
                  "SF",
                  "CF",
                  "SL",
                  "CL",
                  "AR",
                  "PR",
                  "QR",
                  "CN"
                ]
              },
              "estateInterestCode": {
                "RDSRef": "",
                "title": "Estate Interest",
                "type": "string",
                "enum": ["EL", "FA", "FC", "MA", "PG", "RC", "RP", "RT"]
              },
              "registeredStatus": {
                "RDSRef": "",
                "title": "Registered Status",
                "type": "string",
                "enum": ["", "Pending"]
              },
              "titleExtents": {
                "RDSRef": "",
                "title": "Title Extents",
                "description": "One or more index polygons describing indicative location of registered title from National Polygon Dataset",
                "type": "array",
                "items": {
                  "$ref": "https://geojson.org/schema/GeoJSON.json"
                }
              },
              "registerExtract": {
                "title": "HMLR Register Extract",
                "$ref": "https://homebuyingandsellinggroup.co.uk/schemas/title-deed.json"
              }
            }
          }
        },
        "energyPerformanceCertificate": {
          "RDSRef": "",
          "title": "Energy Performance Certificate",
          "$ref": "https://homebuyingandsellinggroup.co.uk/schemas/energy-performance-certificate.json"
        }
      }
    }
  }
}
